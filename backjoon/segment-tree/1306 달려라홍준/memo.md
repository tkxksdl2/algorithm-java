[달려라 홍준](https://www.acmicpc.net/problem/1306)

---

전체 배열에서 정해진 구간을 이동해가며 해당 내 최댓값을 구해야 한다.

문제는 N과 M이 최대 백만이므로, 최댓값을 구하는 동작도 이에 가깝게 수행해야 한다.

배열을 전수조사한다고 했을 때 N이 백만에 M이 오십만정도라면 50만^2 번의 연산을 하게 될지도 모른다.

---

이렇게 연속된 배열 간격에서 정보를 빠르게 조회해야 할 때는 이진 트리인 세그먼트 트리를 활용하면 효율적이다.

세그먼트 트리는 길이가 N인 배열의 데이터를 리프노드의개수가 N개인 이진 트리에 저장한다.

각각의 데이터는 순서대로 이진 트리의 리프 노드에 저장되며, 이들의 부모 노드는 양 쪽 자식의 데이터에 대한 정보를 종합한다.
(합이 될수도, 이 문제에서처럼 최대값이 될 수도 있다.)

따라서 사용자가 배열의 특정 구간의 정보가 필요할 때, 세그먼트 트리를 사용하면 구간 내 모든 데이터에 접근할 필요 없이
세그먼트 트리의 가능한 상위 노드를 조회하는 것 만으로 구간 정보를 얻어낼 수 있다.

이 때 조회에 걸리는 시간 복잡도는 O(logN) 으로 나타낼 수 있다. 트리의 구조를 보면 구간을 검색할 때 이진탐색으로
해당하는 범위를 찾아 자식 노드로 내려간다. 이 때 구간의 양 끝 지점은 리프 노드까지 닿을 수도 있다.

조금 재수가 없으면 시작 혹은 끝 지점이 부모가 다른 리프노드에 걸쳐 두 개로 나뉘어질 수 있다. 
이는 다시 말하면 조회 연산에서 리프노드까지 닿는 일은 최대 네 번 밖에 일어나지 않는다는 사실이다.

리프노드까지 닿는 연산이 O(logN)이다. 따라서 조회 연산은 기껏해야 수 번의 logN 연산으로 수행될 수 있다. 