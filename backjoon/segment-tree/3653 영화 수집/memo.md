[3653 영화 수집](https://www.acmicpc.net/problem/3653)

---

세그먼트 트리로 풀어야 한다는 것은 알았지만 DVD의 위치를 정의하는 아이디어가 생각나지 않아
시간을 좀 많이 잡아먹었다.

이 문제는 특정 구간 내의 DVD의 개수를 알아야 하며, DVD를 중간에서 빼내어 가장 위로 올리는 동작이 필요하다.

가장 위에 올린다는 특징 때문에 스택과 같은 자료 구조를 떠올릴 수도 있겠지만, DVD를 중간의 특정
위치에서 뽑아야 하기 떄문에 적절하지 않다.

구간 합을 구해야 하기 때문에 세그먼트 트리를 이용하면 쉬울것 같다. 그런데 위치를 바꾸는 동작은 어떻게
수행할 것인가? 

이 부분에 대해서 많이 고민을 했으나, 사실 풀이는 허무하도록 쉽다.

케이스 당 영화의 수는 최대 100000개, 영화를 꺼내는 횟수도 마찬가지로 100000개 이다. 
더해봐야 20만 가까이 되므로 충분히 감당 가능한 숫자이다.

따라서 DVD를 꺼낼 때 마다 영화의 수 n개의 트리를 갱신할 것이 아니라, 애초에 n+m 크기를 가진
트리를 만들어 하나의 책을 꺼내 비어있는 가장 위쪽 공간에 넣어주면 된다.

이러면 DVD를 꺼내는 동작마다 2 번의 update 동작이 수행되며, logN의 속도로 수행된다.

추가로 이번엔 세그먼트 트리가 아니라 팬윅트리로 구현해 보았다. 한번 구현을 해보니 세그먼틑 트리보다 훨씬 구현이 간단했다.